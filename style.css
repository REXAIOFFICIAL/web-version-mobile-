:root{
  --bg:#0b0f14;
  --panel:#07101a;
  --cyan:#00e6ff;
  --accent:#5affff;
  --text:#e6f7ff;
  --dim:#9bb5c3;
  --error:#ff6b6b;
  --mono: "Consolas", monospace;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-tap-highlight-color:transparent;font-family:Segoe UI,Roboto,Arial,sans-serif}
.app{height:100vh;display:flex;flex-direction:column;padding:8px}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;padding:10px;background:var(--panel);border-radius:8px}
.title{font-family:Orbitron,Segoe UI,Arial;font-size:20px;color:var(--cyan);font-weight:700}
.cfg-toggle{background:transparent;border:none;color:var(--dim);font-size:18px;padding:6px;border-radius:6px}

/* Main layout for mobile: chat full width, config collapsible */
.main{display:flex;flex-direction:column;gap:8px;margin-top:8px;flex:1;overflow:hidden}
.chat-panel{display:flex;flex-direction:column;flex:1}
.chat-display{background:var(--panel);border-radius:10px;padding:12px;height:calc(100vh - 240px);overflow:auto;font-family:var(--mono);font-size:15px}
.msg{margin-bottom:12px;white-space:pre-wrap}
.msg .who{display:block;font-weight:700;margin-bottom:6px}
.msg.bot .who{color:var(--cyan)}
.msg.user .who{color:var(--accent)}
.msg.bot .body{color:var(--text)}
.msg.error .body{color:var(--error)}

/* Input row fixed at bottom of viewport on mobile for easy typing */
.input-row{display:flex;gap:8px;padding-top:8px;align-items:center}
.chat-input{flex:1;padding:12px;border-radius:10px;border:1px solid transparent;background:#001219;color:var(--text);font-family:var(--mono);font-size:15px}
.chat-input:focus{outline:none;border-color:var(--cyan)}
.btn{padding:12px;border-radius:10px;border:none;background:#051620;color:var(--text);cursor:pointer;font-size:15px}
.btn.primary{background:var(--cyan);color:#001018}
.btn.wide{width:100%}

/* Config panel (collapsible) */
.config{background:var(--panel);padding:12px;border-radius:10px;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
.config.hidden{display:none}
.cfg-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.input, .input:focus{width:100%;padding:10px;border-radius:8px;border:1px solid transparent;background:#001219;color:var(--text);margin-top:6px}
.lbl{color:var(--dim);font-size:13px;margin-top:8px}
.cfg-actions{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:10px}
.tip{margin-top:12px;color:var(--dim);font-size:12px}

/* Loading overlay */
.loading{position:fixed;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:200}
.loading.hidden{display:none}
.loading-panel{background:var(--panel);padding:14px 18px;border-radius:12px;display:flex;align-items:center;gap:12px}
.spinner{width:40px;height:40px;border-radius:50%;border:4px solid rgba(0,230,255,0.22);border-top-color:var(--cyan);animation:spin 1s linear infinite}
.loading-text{color:var(--text);font-family:var(--mono);font-size:14px}
@keyframes spin{to{transform:rotate(360deg)}}

/* Modal responsive */
.modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:var(--panel);padding:12px;border-radius:8px;z-index:300;width:92%;max-width:720px}
.modal .modal-body{max-height:60vh;overflow:auto;padding:8px;background:#001018;border-radius:6px}
.link-btn{background:transparent;border:1px solid var(--cyan);color:var(--cyan);padding:8px;border-radius:6px;cursor:pointer}

/* small screens tweaks */
@media(min-width:720px){
  .app{max-width:1000px;margin:12px auto}
  .chat-display{height:520px}
  .config{max-width:360px}
}
